{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\component\\\\CommentBox.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCommentOfPlayer } from '../redux/comment/actions';\nimport axios from 'axios';\nimport './CommentBox.scss';\n\nconst CommentBox = props => {\n  const [postVal, setPostVal] = useState(\"\");\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n  const id = props.id;\n  const url = 'http://localhost:3001/api/public/v1/comments/' + id;\n  const dispacth = useDispatch();\n  const comments = useSelector(state => state.comments.commentsOfPlayer);\n  useEffect(() => {\n    dispacth(fetchCommentOfPlayer(id));\n  }, [dispacth, id]);\n\n  const onSubmit = data => {\n    setPostVal([...postVal, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"display-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"pre\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 56\n      }\n    }, data.message))]);\n    axios.post(url, data.message).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n    reset({});\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-box mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, comments.map((comment, index) => /*#__PURE__*/React.createElement(\"div\", {\n    id: \"display-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, comment.comment)), postVal), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"2\",\n    name: \"message\",\n    className: \"textarea\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default CommentBox;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/component/CommentBox.js"],"names":["React","useState","useEffect","useForm","useDispatch","useSelector","fetchCommentOfPlayer","axios","CommentBox","props","postVal","setPostVal","register","handleSubmit","reset","id","url","dispacth","comments","state","commentsOfPlayer","onSubmit","data","message","post","then","response","console","log","catch","error","map","comment","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,OAAR,QAAuB,iBAAvB;AACA,SAAQC,WAAR,EAAoBC,WAApB,QAAsC,aAAtC;AACA,SAAQC,oBAAR,QAAmC,0BAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAQ,mBAAR;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAE1B,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBV,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM;AAACW,IAAAA,QAAD;AAAUC,IAAAA,YAAV;AAAuBC,IAAAA;AAAvB,MAAiCX,OAAO,EAA9C;AACA,QAAMY,EAAE,GAAGN,KAAK,CAACM,EAAjB;AACA,QAAMC,GAAG,GAAG,kDAAgDD,EAA5D;AACA,QAAME,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAMc,QAAQ,GAAGb,WAAW,CAACc,KAAK,IAAIA,KAAK,CAACD,QAAN,CAAeE,gBAAzB,CAA5B;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,QAAQ,CAACX,oBAAoB,CAACS,EAAD,CAArB,CAAR;AACH,GAFQ,EAEP,CAACE,QAAD,EAAUF,EAAV,CAFO,CAAT;;AAOA,QAAMM,QAAQ,GAAIC,IAAD,IAAU;AACvBX,IAAAA,UAAU,CAAC,CAAC,GAAGD,OAAJ,eAAY;AAAM,MAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMY,IAAI,CAACC,OAAX,CAAxB,CAAZ,CAAD,CAAV;AACAhB,IAAAA,KAAK,CAACiB,IAAN,CAAWR,GAAX,EAAeM,IAAI,CAACC,OAApB,EACKE,IADL,CACUC,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,KAHL,EAIKG,KAJL,CAIWC,KAAK,IAAI;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KANL;AAOAhB,IAAAA,KAAK,CAAC,EAAD,CAAL;AACH,GAVD;;AAYA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,QAAQ,CAACa,GAAT,CAAa,CAACC,OAAD,EAASC,KAAT,kBACV;AAAM,IAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBD,OAAO,CAACA,OAAjC,CADH,CADL,EAIKtB,OAJL,CADJ,eAOI;AAAM,IAAA,QAAQ,EAAEG,YAAY,CAACQ,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAW,IAAA,IAAI,EAAC,GAAhB;AAAoB,IAAA,IAAI,EAAC,SAAzB;AAAmC,IAAA,SAAS,EAAC,UAA7C;AAAwD,IAAA,GAAG,EAAET,QAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CAPJ,CADJ;AAiBH,CA7CD;;AA+CA,eAAeJ,UAAf","sourcesContent":["import React, { useState,useEffect} from 'react';\r\nimport {useForm}  from 'react-hook-form';\r\nimport {useDispatch,useSelector} from 'react-redux';\r\nimport {fetchCommentOfPlayer} from '../redux/comment/actions';\r\nimport axios from 'axios';\r\nimport  './CommentBox.scss';\r\n\r\nconst CommentBox = (props) => {\r\n\r\n    const [postVal,setPostVal] = useState(\"\");\r\n    const {register,handleSubmit,reset } = useForm();\r\n    const id = props.id;\r\n    const url = 'http://localhost:3001/api/public/v1/comments/'+id;\r\n    const dispacth = useDispatch();\r\n    const comments = useSelector(state => state.comments.commentsOfPlayer);\r\n\r\n    useEffect(() => {\r\n        dispacth(fetchCommentOfPlayer(id))\r\n    },[dispacth,id])\r\n\r\n\r\n    \r\n\r\n    const onSubmit = (data) => {\r\n        setPostVal([...postVal,<div  id=\"display-data\"><pre>{data.message}</pre></div>])\r\n        axios.post(url,data.message)\r\n            .then(response => {\r\n                console.log(response)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n        reset({})\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <div className='comment-box mb-2'>\r\n                {comments.map((comment,index) => \r\n                    <div  id=\"display-data\">{comment.comment}</div>\r\n                )}\r\n                {postVal}\r\n            </div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <textarea  rows='2' name=\"message\" className='textarea' ref={register} />\r\n                <div className=\"mt-2\">\r\n                    <input type=\"submit\" className='submit'/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default CommentBox;"]},"metadata":{},"sourceType":"module"}
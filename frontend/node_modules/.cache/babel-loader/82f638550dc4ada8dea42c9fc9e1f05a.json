{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\component\\\\formForgotPassword\\\\FormForgotPassword.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useParams } from \"react-router-dom\";\nimport AuthService from '../../service/auth.service';\n\nconst ForgotPassword = () => {\n  const {\n    register,\n    errors,\n    handleSubmit,\n    watch\n  } = useForm({});\n  const [response, setResponse] = useState();\n  const [message, setMessage] = useState(\"\");\n  const passwordWatched = useRef({});\n  passwordWatched.current = watch(\"password\", \"\");\n  const {\n    token\n  } = useParams();\n\n  const onSubmit = data => {\n    AuthService.forgotPassword(data.password, data.confirmPassword, token).then(response => {\n      setResponse(response);\n    });\n  };\n\n  useEffect(() => {\n    if (response === 200) {\n      setMessage(\"Password Update\");\n      setTimeout(() => {}, 3000);\n    }\n\n    if (response === 401) {\n      setMessage(\"Not Allowed\");\n    }\n  }, [response]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    name: \"password\",\n    placeholder: \"password\",\n    ref: register({\n      required: \"You must specify a password\",\n      minLength: {\n        value: 8,\n        message: \"Password must have at least 8 characters\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, errors.password.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    placeholder: \"confirmPassword\",\n    name: \"confirmPassword\",\n    ref: register({\n      required: \"required\",\n      validate: value => value === passwordWatched.current || \"The password do not match\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), errors.confirmPassword && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 40\n    }\n  }, errors.confirmPassword.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), response === 'dio cane' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 38\n    }\n  }, message), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 24\n    }\n  }, message));\n};\n\nexport default ForgotPassword;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/component/formForgotPassword/FormForgotPassword.js"],"names":["React","useRef","useState","useEffect","useForm","useParams","AuthService","ForgotPassword","register","errors","handleSubmit","watch","response","setResponse","message","setMessage","passwordWatched","current","token","onSubmit","data","forgotPassword","password","confirmPassword","then","setTimeout","required","minLength","value","validate"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { useParams } from \"react-router-dom\";\r\nimport AuthService from '../../service/auth.service';\r\n\r\nconst ForgotPassword = () => {\r\n\r\n    const { register, errors, handleSubmit, watch } = useForm({});\r\n    const [response, setResponse] = useState();\r\n    const [message, setMessage] = useState(\"\")\r\n    const passwordWatched = useRef({});\r\n    passwordWatched.current = watch(\"password\", \"\")\r\n\r\n    const { token } = useParams();\r\n\r\n    const onSubmit = data => {\r\n        AuthService.forgotPassword(data.password, data.confirmPassword, token).then(\r\n            (response) => {\r\n                setResponse(response)\r\n            });\r\n    };\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (response === 200) {\r\n            setMessage(\"Password Update\")\r\n            setTimeout(() => {\r\n\r\n            }, 3000);\r\n        }\r\n        if (response === 401) {\r\n            setMessage(\"Not Allowed\")\r\n        }\r\n    }, [response])\r\n\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input\r\n                type=\"text\"\r\n                className=\"form-control mb-2\"\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                ref={register({\r\n                    required: \"You must specify a password\",\r\n                    minLength: {\r\n                        value: 8,\r\n                        message: \"Password must have at least 8 characters\"\r\n                    }\r\n                })}\r\n            />\r\n            {errors.password && <p>{errors.password.message}</p>}\r\n            <input\r\n                type=\"text\"\r\n                className=\"form-control mb-2\"\r\n                placeholder=\"confirmPassword\"\r\n                name=\"confirmPassword\"\r\n                ref={register({\r\n                    required: \"required\",\r\n                    validate: value =>\r\n                        value === passwordWatched.current || \"The password do not match\"\r\n                })}\r\n            />\r\n            {errors.confirmPassword && <p>{errors.confirmPassword.message}</p>}\r\n            <input\r\n                type=\"submit\"\r\n                className=\"form-control\"\r\n            />\r\n            {response==='dio cane' &&<div className=\"alert alert-success\">{message}</div>}\r\n            {message &&<div className=\"alert alert-danger\">{message}</div>}\r\n        </form>\r\n\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\kartu\\\\Desktop\\\\LeagueOfReport-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\kartu\\\\Desktop\\\\LeagueOfReport-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\kartu\\\\Desktop\\\\LeagueOfReport-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Card from'react-bootstrap/Card';import'./CardReportsOfPlayer.scss';import ReactPaginate from'react-paginate';import{Container}from'react-bootstrap';import ReportService from'../service/report.service';import Moment from'react-moment';import'moment-timezone';var CardReportsOfPlayer=function CardReportsOfPlayer(props){var token=localStorage.getItem(\"userToken\");var username=props.username;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];var _useState3=useState(4),_useState4=_slicedToArray(_useState3,1),perPage=_useState4[0];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pageCount=_useState6[0],setPageCount=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),reports=_useState8[0],setReports=_useState8[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,slice,postData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ReportService.fetchReportByPlayerUsername(username);case 2:res=_context.sent;data=res.data;slice=data.slice(offset,offset+perPage);postData=slice.map(function(report,index){return/*#__PURE__*/React.createElement(Card,{key:index},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(Card.Link,{href:\"#\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"info-rep \"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline report-type mr-1\"},report.reportType),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline float-right date\"},/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},report.date)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline report-by \"},\"Reported By \"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline user\"},report.user)),/*#__PURE__*/React.createElement(\"div\",{className:\"line mb-3\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"report-text\"},/*#__PURE__*/React.createElement(\"p\",null,report.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"br mb-3\"})));});setReports(postData);setPageCount(Math.ceil(data.length/perPage));case 8:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var handlePageClick=function handlePageClick(e){var selectedPage=e.selected;setOffset(selectedPage*perPage);};useEffect(function(){getData();var name=document.getElementsByClassName('porcodio')[0];},[offset]);return/*#__PURE__*/React.createElement(Container,null,reports,/*#__PURE__*/React.createElement(ReactPaginate,{previousLabel:\"prev\",nextLabel:\"next\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:handlePageClick,containerClassName:\"pagination\",subContainerClassName:\"pages pagination\",activeClassName:\"active\",disabledClassName:\"disabledNexOrPrev\"}));};export default CardReportsOfPlayer;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/LeagueOfReport-frontend/src/report/CardReportsOfPlayer.js"],"names":["React","useEffect","useState","Card","ReactPaginate","Container","ReportService","Moment","CardReportsOfPlayer","props","token","localStorage","getItem","username","offset","setOffset","perPage","pageCount","setPageCount","reports","setReports","getData","fetchReportByPlayerUsername","res","data","slice","postData","map","report","index","reportType","date","user","description","Math","ceil","length","handlePageClick","e","selectedPage","selected","name","document","getElementsByClassName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\nimport './CardReportsOfPlayer.scss'\r\nimport ReactPaginate from 'react-paginate';\r\nimport { Container } from 'react-bootstrap';\r\nimport ReportService from '../service/report.service';\r\nimport Moment from 'react-moment';\r\nimport 'moment-timezone';\r\n\r\nconst CardReportsOfPlayer = (props) => {\r\n\r\n\r\n    \r\n    const token = localStorage.getItem(\"userToken\");\r\n\r\n    const username = props.username;\r\n\r\n    const [offset, setOffset] = useState(0);\r\n    const [perPage] = useState(4);\r\n    const [pageCount, setPageCount] = useState(0)\r\n    const [reports,setReports] = useState([])\r\n\r\n\r\n\r\n\r\n    const getData = async() => {\r\n        const res = await ReportService.fetchReportByPlayerUsername(username)\r\n        const data = res.data;\r\n        const slice = data.slice(offset, offset + perPage)\r\n        const postData  = slice.map((report, index) => <Card key={index}>\r\n            <Card.Body>\r\n                <Card.Title>\r\n                    <Card.Link href=\"#\"></Card.Link>\r\n                </Card.Title>\r\n                <div className='info-rep '>\r\n                    <div className='d-inline report-type mr-1'>{report.reportType}</div>\r\n                    <div className='d-inline float-right date'><Moment format=\"YYYY/MM/DD\">{report.date}</Moment></div>\r\n                    <div className='d-inline report-by '>Reported By </div>\r\n                    <div className='d-inline user'>{report.user}</div>\r\n                </div>\r\n                <div className='line mb-3'>\r\n                </div>\r\n                <div className='report-text'>\r\n                    <p>{report.description}</p>\r\n                </div>\r\n                <div className='br mb-3'>\r\n                </div>\r\n            </Card.Body>\r\n        </Card>)\r\n        setReports(postData)\r\n        setPageCount(Math.ceil(data.length / perPage))\r\n    };\r\n\r\n    const handlePageClick = (e) => {\r\n        const selectedPage = e.selected;\r\n        setOffset(selectedPage *perPage)\r\n    };\r\n\r\n     useEffect(() => {\r\n        getData()\r\n        var name = document.getElementsByClassName('porcodio')[0];\r\n\r\n    }, [offset])\r\n\r\n    return (\r\n        <Container >\r\n            {reports}\r\n            <ReactPaginate\r\n                previousLabel={\"prev\"}\r\n                nextLabel={\"next\"}\r\n                breakLabel={\"...\"}\r\n                breakClassName={\"break-me\"}\r\n                pageCount={pageCount}\r\n                marginPagesDisplayed={2}\r\n                pageRangeDisplayed={5}\r\n                onPageChange={handlePageClick}\r\n                containerClassName={\"pagination\"}\r\n                subContainerClassName={\"pages pagination\"}\r\n                activeClassName={\"active\"}\r\n                disabledClassName={\"disabledNexOrPrev\"}\r\n                />\r\n        </Container>\r\n    )\r\n}\r\nexport default CardReportsOfPlayer"]},"metadata":{},"sourceType":"module"}
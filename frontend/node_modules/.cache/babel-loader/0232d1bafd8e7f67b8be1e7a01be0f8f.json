{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\kartu\\\\Desktop\\\\ReportPlayer\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useForm}from'react-hook-form';import AuthService from'../../service/auth.service';import'./FormLogin.scss';import{useHistory}from\"react-router\";var FormLogin=function FormLogin(props){var history=useHistory();var _useForm=useForm({}),register=_useForm.register,errors=_useForm.errors,handleSubmit=_useForm.handleSubmit;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),successful=_useState2[0],setSuccessful=_useState2[1];var onSubmit=function onSubmit(data){AuthService.login(data.username,data.password).then(function(response){history.push('/');window.location.reload();},function(error){setSuccessful(false);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control \",name:\"username\",placeholder:\"username\",ref:register({required:\"required\"})}),errors.username&&/*#__PURE__*/React.createElement(\"p\",null,errors.username.message),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"password\",className:\"form-control mt-4 mb-4\",name:\"password\",ref:register({required:\"requred\"})}),errors.password&&/*#__PURE__*/React.createElement(\"p\",null,errors.password.message),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"form-control\"})),!successful&&/*#__PURE__*/React.createElement(\"p\",null,\"username or password incorrect\"));};export default FormLogin;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/ReportPlayer/frontend/src/component/formLogin/FormLogin.js"],"names":["React","useState","useForm","AuthService","useHistory","FormLogin","props","history","register","errors","handleSubmit","successful","setSuccessful","onSubmit","data","login","username","password","then","response","push","window","location","reload","error","required","message"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAO,kBAAP,CACA,OAASC,UAAT,KAA2B,cAA3B,CAMA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAEzB,GAAIC,CAAAA,OAAO,CAAGH,UAAU,EAAxB,CAFyB,aAGkBF,OAAO,CAAC,EAAD,CAHzB,CAGjBM,QAHiB,UAGjBA,QAHiB,CAGPC,MAHO,UAGPA,MAHO,CAGCC,YAHD,UAGCA,YAHD,eAIWT,QAAQ,CAAC,IAAD,CAJnB,wCAIlBU,UAJkB,eAINC,aAJM,eAMzB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,IAAI,CAAI,CACrBX,WAAW,CAACY,KAAZ,CAAkBD,IAAI,CAACE,QAAvB,CAAiCF,IAAI,CAACG,QAAtC,EAAgDC,IAAhD,CACI,SAACC,QAAD,CAAc,CACVZ,OAAO,CAACa,IAAR,CAAa,GAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAEH,CALL,CAMI,SAACC,KAAD,CAAW,CACPZ,aAAa,CAAC,KAAD,CAAb,CACH,CARL,EAUH,CAXD,CAaA,mBACI,4CACI,4BAAM,QAAQ,CAAEF,YAAY,CAACG,QAAD,CAA5B,eACI,6BACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,eAFd,CAGI,IAAI,CAAC,UAHT,CAII,WAAW,CAAC,UAJhB,CAKI,GAAG,CAAEL,QAAQ,CAAC,CACViB,QAAQ,CAAE,UADA,CAAD,CALjB,EADJ,CAUKhB,MAAM,CAACO,QAAP,eAAmB,6BAAIP,MAAM,CAACO,QAAP,CAAgBU,OAApB,CAVxB,cAWI,6BACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,UAFhB,CAGI,SAAS,CAAC,wBAHd,CAII,IAAI,CAAC,UAJT,CAKI,GAAG,CAAElB,QAAQ,CAAC,CACViB,QAAQ,CAAE,SADA,CAAD,CALjB,EAXJ,CAoBKhB,MAAM,CAACQ,QAAP,eAAmB,6BAAIR,MAAM,CAACQ,QAAP,CAAgBS,OAApB,CApBxB,cAqBI,6BACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,cAFd,EArBJ,CADJ,CA2BM,CAACf,UAAD,eAAe,8DA3BrB,CADJ,CAgCH,CAnDD,CAqDA,cAAeN,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport AuthService from '../../service/auth.service';\r\nimport './FormLogin.scss';\r\nimport { useHistory } from \"react-router\"\r\n\r\n\r\n\r\n\r\n\r\nconst FormLogin = (props) => {\r\n\r\n    let history = useHistory()\r\n    const { register, errors, handleSubmit } = useForm({});\r\n    const [successful, setSuccessful] = useState(true);\r\n\r\n    const onSubmit = data => {\r\n        AuthService.login(data.username, data.password).then(\r\n            (response) => {\r\n                history.push('/');\r\n                window.location.reload();\r\n\r\n            },\r\n            (error) => {\r\n                setSuccessful(false)\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control \"\r\n                    name=\"username\"\r\n                    placeholder=\"username\"\r\n                    ref={register({\r\n                        required: \"required\"\r\n                    })}\r\n                />\r\n                {errors.username && <p>{errors.username.message}</p>}\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    className=\"form-control mt-4 mb-4\"\r\n                    name=\"password\"\r\n                    ref={register({\r\n                        required: \"requred\"\r\n                    })}\r\n                />\r\n                {errors.password && <p>{errors.password.message}</p>}\r\n                <input\r\n                    type=\"submit\"\r\n                    className=\"form-control\"\r\n                />\r\n            </form>\r\n            { !successful && <p>username or password incorrect</p>}\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\component\\\\EmailForgotPassword\\\\FormEmailForgotPassword.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useForm } from 'react-hook-form';\nimport './FormEmailForgotPassword.scss';\nimport { useHistory } from 'react-router';\nimport AuthService from '../../service/auth.service';\n\nconst FormEmailForgotPassword = props => {\n  let history = useHistory();\n  let btnRef = useRef();\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm({});\n  const [successful, setSuccessful] = useState(false);\n  const [submit, setSubmit] = useState(false);\n  const [response, setResponse] = useState();\n\n  const onSubmit = async data => {\n    if (btnRef.current) {\n      btnRef.current.setAttribute(\"disabled\", \"disabled\");\n    }\n\n    await AuthService.sendEmailForgotPassword(data.email).then(response => {\n      response === 200 ? setSuccessful(true) : setSuccessful(false);\n      setResponse(response);\n    });\n    setSubmit(true);\n  };\n\n  useEffect(() => {\n    if (response === 200) {\n      setTimeout(() => {\n        btnRef.current.setAttribute(\"disabled\", \"disabled\");\n      }, 1000);\n    }\n  }, [response]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, submit && (successful ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 39\n    }\n  }, \"A verification link has been sent your email\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 20\n    }\n  }, \"there is some problem with the request\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"email\",\n    name: \"email\",\n    className: \"form-control mb-2\",\n    ref: register({\n      required: \"required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"form-control\",\n    ref: btnRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 34\n    }\n  }, errors.email.message)));\n};\n\nexport default FormEmailForgotPassword;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/component/EmailForgotPassword/FormEmailForgotPassword.js"],"names":["React","useState","useEffect","useRef","useForm","useHistory","AuthService","FormEmailForgotPassword","props","history","btnRef","register","errors","handleSubmit","successful","setSuccessful","submit","setSubmit","response","setResponse","onSubmit","data","current","setAttribute","sendEmailForgotPassword","email","then","setTimeout","required","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAO,gCAAP;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;AAIA,MAAMC,uBAAuB,GAAIC,KAAD,IAAW;AAEvC,MAAIC,OAAO,GAAGJ,UAAU,EAAxB;AACA,MAAIK,MAAM,GAAGP,MAAM,EAAnB;AACA,QAAM;AAAEQ,IAAAA,QAAF;AAAYC,IAAAA,MAAZ;AAAoBC,IAAAA;AAApB,MAAqCT,OAAO,CAAC,EAAD,CAAlD;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,EAAxC;;AAGA,QAAMmB,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AAC7B,QAAIX,MAAM,CAACY,OAAX,EAAoB;AAChBZ,MAAAA,MAAM,CAACY,OAAP,CAAeC,YAAf,CAA4B,UAA5B,EAAwC,UAAxC;AACH;;AACD,UAAMjB,WAAW,CAACkB,uBAAZ,CAAoCH,IAAI,CAACI,KAAzC,EAAgDC,IAAhD,CACDR,QAAD,IAAc;AACVA,MAAAA,QAAQ,KAAK,GAAb,GAAmBH,aAAa,CAAC,IAAD,CAAhC,GAAyCA,aAAa,CAAC,KAAD,CAAtD;AACAI,MAAAA,WAAW,CAACD,QAAD,CAAX;AACH,KAJC,CAAN;AAKAD,IAAAA,SAAS,CAAC,IAAD,CAAT;AACH,GAVD;;AAYAf,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIgB,QAAQ,KAAK,GAAjB,EAAsB;AAClBS,MAAAA,UAAU,CAAC,MAAM;AACbjB,QAAAA,MAAM,CAACY,OAAP,CAAeC,YAAf,CAA4B,UAA5B,EAAwC,UAAxC;AACH,OAFS,EAEP,IAFO,CAAV;AAGH;AACJ,GANQ,EAMN,CAACL,QAAD,CANM,CAAT;AAQA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,MAAM,KAAKF,UAAU,gBAAI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAAJ,gBACf;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADA,CADX,eAII;AAAM,IAAA,QAAQ,EAAED,YAAY,CAACO,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,OAFhB;AAGI,IAAA,IAAI,EAAC,OAHT;AAII,IAAA,SAAS,EAAC,mBAJd;AAKI,IAAA,GAAG,EAAET,QAAQ,CAAC;AACViB,MAAAA,QAAQ,EAAE;AADA,KAAD,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAUI;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,SAAS,EAAC,cAFd;AAGI,IAAA,GAAG,EAAElB,MAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,EAeKE,MAAM,CAACa,KAAP,iBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIb,MAAM,CAACa,KAAP,CAAaI,OAAjB,CAfrB,CAJJ,CADJ;AA2BH,CAzDD;;AA2DA,eAAetB,uBAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport './FormEmailForgotPassword.scss';\r\nimport { useHistory } from 'react-router';\r\nimport AuthService from '../../service/auth.service';\r\n\r\n\r\n\r\nconst FormEmailForgotPassword = (props) => {\r\n\r\n    let history = useHistory()\r\n    let btnRef = useRef();\r\n    const { register, errors, handleSubmit } = useForm({});\r\n    const [successful, setSuccessful] = useState(false)\r\n    const [submit, setSubmit] = useState(false)\r\n    const [response, setResponse] = useState();\r\n\r\n\r\n    const onSubmit = async (data) => {\r\n        if (btnRef.current) {\r\n            btnRef.current.setAttribute(\"disabled\", \"disabled\");\r\n        }\r\n        await AuthService.sendEmailForgotPassword(data.email).then(\r\n            (response) => {\r\n                response === 200 ? setSuccessful(true) : setSuccessful(false)\r\n                setResponse(response)\r\n            });\r\n        setSubmit(true)\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (response === 200) {\r\n            setTimeout(() => {\r\n                btnRef.current.setAttribute(\"disabled\", \"disabled\");\r\n            }, 1000)\r\n        }\r\n    }, [response])\r\n\r\n    return (\r\n        <div>\r\n            {submit && (successful ? (<div className=\"alert alert-success\">A verification link has been sent your email</div>)\r\n                : (<div className=\"alert alert-danger\">there is some problem with the request</div>)\r\n            )}\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"email\"\r\n                    name=\"email\"\r\n                    className=\"form-control mb-2\"\r\n                    ref={register({\r\n                        required: \"required\"\r\n                    })}\r\n                />\r\n                <input\r\n                    type=\"submit\"\r\n                    className=\"form-control\"\r\n                    ref={btnRef}\r\n                />\r\n                {errors.email && <p>{errors.email.message}</p>}\r\n            </form>\r\n        </div>\r\n\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default FormEmailForgotPassword;"]},"metadata":{},"sourceType":"module"}
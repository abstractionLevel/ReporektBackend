{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\component\\\\formLogin\\\\FormLogin.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport AuthService from '../../service/auth.service';\nimport './FormLogin.scss';\nimport { useHistory } from \"react-router\";\n\nconst FormLogin = props => {\n  let history = useHistory();\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm({});\n  const [successful, setSuccessful] = useState(true);\n\n  const onSubmit = data => {\n    AuthService.login(data.username, data.password).then(response => {\n      history.push('/');\n      window.location.reload();\n    }, error => {\n      setSuccessful(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control \",\n    name: \"username\",\n    placeholder: \"username\",\n    ref: register({\n      required: \"required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 37\n    }\n  }, errors.username.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"password\",\n    className: \"form-control mt-4 mb-4\",\n    name: \"password\",\n    ref: register({\n      required: \"requred\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 37\n    }\n  }, errors.password.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })), !successful && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 30\n    }\n  }, \"username or password incorrect\"));\n};\n\nexport default FormLogin;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/component/formLogin/FormLogin.js"],"names":["React","useState","useForm","AuthService","useHistory","FormLogin","props","history","register","errors","handleSubmit","successful","setSuccessful","onSubmit","data","login","username","password","then","response","push","window","location","reload","error","required","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAO,kBAAP;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAMA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAEzB,MAAIC,OAAO,GAAGH,UAAU,EAAxB;AACA,QAAM;AAAEI,IAAAA,QAAF;AAAYC,IAAAA,MAAZ;AAAoBC,IAAAA;AAApB,MAAqCR,OAAO,CAAC,EAAD,CAAlD;AACA,QAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,IAAD,CAA5C;;AAEA,QAAMY,QAAQ,GAAGC,IAAI,IAAI;AACrBX,IAAAA,WAAW,CAACY,KAAZ,CAAkBD,IAAI,CAACE,QAAvB,EAAiCF,IAAI,CAACG,QAAtC,EAAgDC,IAAhD,CACKC,QAAD,IAAc;AACVZ,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AAEH,KALL,EAMKC,KAAD,IAAW;AACPZ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH,KARL;AAUH,GAXD;;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEF,YAAY,CAACG,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,SAAS,EAAC,eAFd;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,WAAW,EAAC,UAJhB;AAKI,IAAA,GAAG,EAAEL,QAAQ,CAAC;AACViB,MAAAA,QAAQ,EAAE;AADA,KAAD,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAUKhB,MAAM,CAACO,QAAP,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIP,MAAM,CAACO,QAAP,CAAgBU,OAApB,CAVxB,eAWI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,WAAW,EAAC,UAFhB;AAGI,IAAA,SAAS,EAAC,wBAHd;AAII,IAAA,IAAI,EAAC,UAJT;AAKI,IAAA,GAAG,EAAElB,QAAQ,CAAC;AACViB,MAAAA,QAAQ,EAAE;AADA,KAAD,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAoBKhB,MAAM,CAACQ,QAAP,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIR,MAAM,CAACQ,QAAP,CAAgBS,OAApB,CApBxB,eAqBI;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,SAAS,EAAC,cAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBJ,CADJ,EA2BM,CAACf,UAAD,iBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCA3BrB,CADJ;AAgCH,CAnDD;;AAqDA,eAAeN,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport AuthService from '../../service/auth.service';\r\nimport './FormLogin.scss';\r\nimport { useHistory } from \"react-router\"\r\n\r\n\r\n\r\n\r\n\r\nconst FormLogin = (props) => {\r\n\r\n    let history = useHistory()\r\n    const { register, errors, handleSubmit } = useForm({});\r\n    const [successful, setSuccessful] = useState(true);\r\n\r\n    const onSubmit = data => {\r\n        AuthService.login(data.username, data.password).then(\r\n            (response) => {\r\n                history.push('/');\r\n                window.location.reload();\r\n\r\n            },\r\n            (error) => {\r\n                setSuccessful(false)\r\n            }\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control \"\r\n                    name=\"username\"\r\n                    placeholder=\"username\"\r\n                    ref={register({\r\n                        required: \"required\"\r\n                    })}\r\n                />\r\n                {errors.username && <p>{errors.username.message}</p>}\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"password\"\r\n                    className=\"form-control mt-4 mb-4\"\r\n                    name=\"password\"\r\n                    ref={register({\r\n                        required: \"requred\"\r\n                    })}\r\n                />\r\n                {errors.password && <p>{errors.password.message}</p>}\r\n                <input\r\n                    type=\"submit\"\r\n                    className=\"form-control\"\r\n                />\r\n            </form>\r\n            { !successful && <p>username or password incorrect</p>}\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\pages\\\\Register\\\\Register.js\";\nimport React, { useState, useRef } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { isEmail } from \"validator\";\nimport { Col, Container, Row } from 'react-bootstrap'; //service\n\nimport AuthService from '../../service/auth.service';\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 13\n      }\n    }, \"This is not a valid email.\");\n  }\n};\n\nconst validEmail = value => {\n  if (!isEmail(value)) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, \"This is not a valid email.\");\n  }\n};\n\nconst vusername = value => {\n  if (value.length < 3 || value.length > 16) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, \"The username must be between 3 and 16 characters.\");\n  }\n};\n\nconst vpassword = value => {\n  if (value.length < 6 || value.length > 40) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"The password must be between 6 and 40 characters.\");\n  }\n};\n\nconst Register = props => {\n  const form = useRef();\n  const checkBtn = useRef();\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successful, setSuccessful] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = e => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangeEmail = e => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handlerRegister = e => {\n    e.preventDefault();\n    setMessage(\"\");\n    setSuccessful(false);\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.register(username, email, password).then(response => {\n        setMessage(response.data.message);\n        setSuccessful(true);\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.message || error.message || error.toString();\n        setMessage(resMessage);\n        setSuccessful(false);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"col-lg-4 form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handlerRegister,\n    ref: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, !successful && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    name: \"username\",\n    value: username,\n    onChange: onChangeUsername,\n    validations: [required, vusername],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control mb-2\",\n    name: \"email\",\n    value: email,\n    onChange: onChangeEmail,\n    validations: [required, validEmail],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control mb-2\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required, vpassword],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, \"Sign Up\")), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: successful ? \"alert alert-success\" : \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, message), /*#__PURE__*/React.createElement(CheckButton, {\n    style: {\n      display: \"none\"\n    },\n    ref: checkBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lassName: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/pages/Register/Register.js"],"names":["React","useState","useRef","Form","Input","CheckButton","isEmail","Col","Container","Row","AuthService","required","value","validEmail","vusername","length","vpassword","Register","props","form","checkBtn","username","setUsername","email","setEmail","password","setPassword","successful","setSuccessful","message","setMessage","onChangeUsername","e","target","onChangeEmail","onChangePassword","handlerRegister","preventDefault","current","validateAll","context","_errors","register","then","response","data","error","resMessage","toString","display"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\n//service\r\nimport AuthService from '../../service/auth.service';\r\n\r\nconst required = (value) => {\r\n    if (!value) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This is not a valid email.\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst validEmail = (value) => {\r\n    if (!isEmail(value)) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                This is not a valid email.\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst vusername = (value) => {\r\n    if (value.length < 3 || value.length > 16) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                The username must be between 3 and 16 characters.\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst vpassword = (value) => {\r\n    if (value.length < 6 || value.length > 40) {\r\n        return (\r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n                The password must be between 6 and 40 characters.\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst Register = (props) => {\r\n\r\n    const form = useRef();\r\n    const checkBtn = useRef();\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [successful, setSuccessful] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const onChangeUsername = (e) => {\r\n        const username = e.target.value;\r\n        setUsername(username)\r\n    };\r\n\r\n    const onChangeEmail = (e) => {\r\n        const email = e.target.value;\r\n        setEmail(email)\r\n    };\r\n\r\n    const onChangePassword = (e) => {\r\n        const password = e.target.value;\r\n        setPassword(password)\r\n    };\r\n\r\n    const handlerRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        setMessage(\"\");\r\n        setSuccessful(false);\r\n\r\n        form.current.validateAll();\r\n\r\n        if (checkBtn.current.context._errors.length === 0) {\r\n            AuthService.register(username, email, password).then(\r\n                (response) => {\r\n                    setMessage(response.data.message);\r\n                    setSuccessful(true)\r\n                },\r\n                (error) => {\r\n                    const resMessage = (error.response && error.response.data && error.response.message) ||\r\n                        error.message || error.toString();\r\n\r\n                    setMessage(resMessage);\r\n                    setSuccessful(false);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col className='col-lg-4'>\r\n                </Col>\r\n                <Col className=\"col-lg-4 form-login\">\r\n                    <Form onSubmit={handlerRegister} ref={form}>\r\n                        {!successful && (\r\n                            <div>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    className=\"form-control mb-2\"\r\n                                    name=\"username\"\r\n                                    value={username}\r\n                                    onChange={onChangeUsername}\r\n                                    validations={[required, vusername]}\r\n                                />\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    className=\"form-control mb-2\"\r\n                                    name=\"email\"\r\n                                    value={email}\r\n                                    onChange={onChangeEmail}\r\n                                    validations={[required, validEmail]}\r\n                                />\r\n\r\n                                <Input\r\n                                    type=\"password\"\r\n                                    className=\"form-control mb-2\"\r\n                                    name=\"password\"\r\n                                    value={password}\r\n                                    onChange={onChangePassword}\r\n                                    validations={[required, vpassword]}\r\n                                />\r\n\r\n                                <button className=\"btn btn-primary btn-block\">Sign Up</button>\r\n                            </div>\r\n                        )}\r\n                        {message && (\r\n                            <div\r\n                                className={successful ? \"alert alert-success\" : \"alert alert-danger\"}\r\n                                role=\"alert\"\r\n                            >\r\n                                {message}\r\n                            </div>\r\n                        )}\r\n                        <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n                    </Form>\r\n                </Col>\r\n                <Col lassName='col-lg-4'>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n\r\n};\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}
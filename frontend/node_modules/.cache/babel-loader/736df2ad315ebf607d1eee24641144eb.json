{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\pages\\\\Login\\\\Login.js\";\nimport React, { useState, useRef } from 'react';\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { Col, Container, Row } from 'react-bootstrap';\nimport AuthService from '../../service/auth.service';\n\nconst required = value => {\n  if (!value) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 4\n      }\n    }, \"This Field Is Required!\");\n  }\n};\n\nconst Login = props => {\n  const form = useRef();\n  const checkBtn = useRef();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = e => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    setMessage(\"\");\n    setLoading(true);\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.login(username, password).then(() => {\n        props.history.push(\"/profile\");\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        setLoading(false);\n        setMessage(resMessage);\n      });\n    } else {\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"col-lg-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleLogin,\n    ref: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"username\",\n    value: username,\n    onChange: onChangeUsername,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    validations: [required],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, loading && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"spinner-border spinner-border-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 8\n    }\n  }, \"Login\")), message && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, message)), /*#__PURE__*/React.createElement(CheckButton, {\n    style: {\n      display: \"none\"\n    },\n    ref: checkBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lassName: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/pages/Login/Login.js"],"names":["React","useState","useRef","Form","Input","CheckButton","Col","Container","Row","AuthService","required","value","Login","props","form","checkBtn","username","setUsername","password","setPassword","loading","setLoading","message","setMessage","onChangeUsername","e","target","onChangePassword","handleLogin","preventDefault","current","validateAll","context","_errors","length","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","display"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,QAAoC,iBAApC;AAGA,OAAOC,WAAP,MAAwB,4BAAxB;;AAGA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC3B,MAAI,CAACA,KAAL,EAAY;AACX,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADD;AAKA;AACD,CARD;;AAWA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAExB,QAAMC,IAAI,GAAGZ,MAAM,EAAnB;AACA,QAAMa,QAAQ,GAAGb,MAAM,EAAvB;AAEA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACqB,OAAD,EAAUC,UAAV,IAAwBtB,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMuB,gBAAgB,GAAIC,CAAD,IAAO;AAC/B,UAAMT,QAAQ,GAAGS,CAAC,CAACC,MAAF,CAASf,KAA1B;AACAM,IAAAA,WAAW,CAACD,QAAD,CAAX;AACA,GAHD;;AAKA,QAAMW,gBAAgB,GAAIF,CAAD,IAAO;AAC/B,UAAMP,QAAQ,GAAGO,CAAC,CAACC,MAAF,CAASf,KAA1B;AACAQ,IAAAA,WAAW,CAACD,QAAD,CAAX;AACA,GAHD;;AAKA,QAAMU,WAAW,GAAIH,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACI,cAAF;AAEAN,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAF,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEAP,IAAAA,IAAI,CAACgB,OAAL,CAAaC,WAAb;;AAEA,QAAIhB,QAAQ,CAACe,OAAT,CAAiBE,OAAjB,CAAyBC,OAAzB,CAAiCC,MAAjC,KAA4C,CAAhD,EAAmD;AAClDzB,MAAAA,WAAW,CAAC0B,KAAZ,CAAkBnB,QAAlB,EAA4BE,QAA5B,EAAsCkB,IAAtC,CACC,MAAM;AACLvB,QAAAA,KAAK,CAACwB,OAAN,CAAcC,IAAd,CAAmB,UAAnB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACA,OAJF,EAKEC,KAAD,IAAW;AACV,cAAMC,UAAU,GACdD,KAAK,CAACE,QAAN,IACAF,KAAK,CAACE,QAAN,CAAeC,IADf,IAEAH,KAAK,CAACE,QAAN,CAAeC,IAAf,CAAoBvB,OAFrB,IAGAoB,KAAK,CAACpB,OAHN,IAIAoB,KAAK,CAACI,QAAN,EALD;AAOAzB,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,QAAAA,UAAU,CAACoB,UAAD,CAAV;AACA,OAfF;AAiBA,KAlBD,MAmBK;AACJtB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACD,GA9BD;;AAgCA,sBACC,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,eAGC,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEO,WAAhB;AAA6B,IAAA,GAAG,EAAEd,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,oBAAC,KAAD;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,SAAS,EAAC,cAFX;AAGC,IAAA,IAAI,EAAC,UAHN;AAIC,IAAA,KAAK,EAAEE,QAJR;AAKC,IAAA,QAAQ,EAAEQ,gBALX;AAMC,IAAA,WAAW,EAAE,CAACd,QAAD,CANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAUC;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVD,eAWC,oBAAC,KAAD;AACC,IAAA,IAAI,EAAC,UADN;AAEC,IAAA,SAAS,EAAC,cAFX;AAGC,IAAA,IAAI,EAAC,UAHN;AAIC,IAAA,KAAK,EAAEQ,QAJR;AAKC,IAAA,QAAQ,EAAES,gBALX;AAMC,IAAA,WAAW,EAAE,CAACjB,QAAD,CANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXD,eAmBC;AAAQ,IAAA,SAAS,EAAC,2BAAlB;AAA8C,IAAA,QAAQ,EAAEU,OAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEA,OAAO,iBACP;AAAM,IAAA,SAAS,EAAC,kCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJD,CAnBD,EAyBEE,OAAO,iBACP;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,IAAI,EAAC,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEA,OADF,CADD,CA1BF,eAgCC,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAE;AAAEyB,MAAAA,OAAO,EAAE;AAAX,KAApB;AAAyC,IAAA,GAAG,EAAEhC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCD,CADD,CAHD,eAuCC,oBAAC,GAAD;AAAK,IAAA,QAAQ,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCD,CADD,CADD;AA+CA,CAnGD;;AAqGA,eAAeH,KAAf","sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\n\r\nimport AuthService from '../../service/auth.service';\r\n\r\n\r\nconst required = (value) => {\r\n\tif (!value) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tThis Field Is Required!\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n};\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst form = useRef();\r\n\tconst checkBtn = useRef();\r\n\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [message, setMessage] = useState(\"\");\r\n\r\n\tconst onChangeUsername = (e) => {\r\n\t\tconst username = e.target.value;\r\n\t\tsetUsername(username);\r\n\t};\r\n\r\n\tconst onChangePassword = (e) => {\r\n\t\tconst password = e.target.value;\r\n\t\tsetPassword(password);\r\n\t};\r\n\r\n\tconst handleLogin = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tsetMessage(\"\");\r\n\t\tsetLoading(true);\r\n\r\n\t\tform.current.validateAll();\r\n\r\n\t\tif (checkBtn.current.context._errors.length === 0) {\r\n\t\t\tAuthService.login(username, password).then(\r\n\t\t\t\t() => {\r\n\t\t\t\t\tprops.history.push(\"/profile\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\tconst resMessage =\r\n\t\t\t\t\t\t(error.response &&\r\n\t\t\t\t\t\t\terror.response.data &&\r\n\t\t\t\t\t\t\terror.response.data.message) ||\r\n\t\t\t\t\t\terror.message ||\r\n\t\t\t\t\t\terror.toString();\r\n\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetMessage(resMessage);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container fluid>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col className='col-lg-4'>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className=\"col-lg-4 \">\r\n\t\t\t\t\t<Form onSubmit={handleLogin} ref={form}>\r\n\t\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tonChange={onChangeUsername}\r\n\t\t\t\t\t\t\tvalidations={[required]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={onChangePassword}\r\n\t\t\t\t\t\t\tvalidations={[required]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary btn-block\" disabled={loading}>\r\n\t\t\t\t\t\t\t{loading && (\r\n\t\t\t\t\t\t\t\t<span className=\"spinner-border spinner-border-sm\"></span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<span>Login</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{message && (\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t\t{message}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col lassName='col-lg-4'>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n\r\n};\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}
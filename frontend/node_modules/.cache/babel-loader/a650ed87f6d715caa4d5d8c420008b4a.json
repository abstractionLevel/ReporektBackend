{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kartu\\\\Desktop\\\\reactjs\\\\src\\\\pages\\\\Login\\\\Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport AuthService from '../../service/auth.service';\nimport './Login.scss';\n\nconst Login = props => {\n  const {\n    register,\n    errors,\n    handleSubmit\n  } = useForm({});\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successful, setSuccessful] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = e => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangePassword = e => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  useEffect(() => {}, [message]);\n\n  const onSubmit = e => {\n    AuthService.login(username, password).then(response => {\n      console.log(response.status);\n\n      if (response.status === 201) {\n        props.history.push(\"/profile\");\n      }\n\n      if (response.status === 401) {\n        setMessage(\"Email or Password not valid\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"col-lg-4 form-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control \",\n    name: \"username\",\n    value: username,\n    placeholder: \"email\",\n    onChange: onChangeUsername,\n    ref: register({\n      required: \"required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), errors.username && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 27\n    }\n  }, errors.username.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"passsord\",\n    className: \"form-control mt-4 mb-4\",\n    name: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    ref: register({\n      required: \"requred\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), errors.password && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 27\n    }\n  }, errors.password.message), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"form-control\",\n    onClick: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  })), successful && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, message))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/kartu/Desktop/reactjs/src/pages/Login/Login.js"],"names":["React","useState","useEffect","useForm","Col","Container","Row","AuthService","Login","props","register","errors","handleSubmit","username","setUsername","password","setPassword","successful","setSuccessful","message","setMessage","onChangeUsername","e","target","value","onChangePassword","onSubmit","login","then","response","console","log","status","history","push","preventDefault","required"],"mappings":"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","sourcesContent":["import React, { useState , useEffect} from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\n\r\nimport AuthService from '../../service/auth.service';\r\nimport './Login.scss';\r\n\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst { register, errors, handleSubmit } = useForm({});\r\n\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [successful, setSuccessful] = useState(false);\r\n\tconst [message,setMessage] = useState(\"\");\r\n\r\n\tconst onChangeUsername = (e) => {\r\n\t\tconst username = e.target.value;\r\n\t\tsetUsername(username);\r\n\t};\r\n\r\n\tconst onChangePassword = (e) => {\r\n\t\tconst password = e.target.value;\r\n\t\tsetPassword(password);\r\n\t};\r\n\r\n\tuseEffect(()=> {},[message]);\r\n\r\n\tconst onSubmit = e => {\r\n\t\tAuthService.login(username, password).then(\r\n\t\t\t(response) => {\r\n\t\t\t\tconsole.log(response.status)\r\n\r\n\t\t\t\tif(response.status === 201) {\r\n\t\t\t\t\tprops.history.push(\"/profile\");\r\n\t\t\t\t}\r\n\t\t\t\tif(response.status === 401 ) {\r\n\t\t\t\t\tsetMessage(\"Email or Password not valid\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container fluid>\r\n\t\t\t<Row className=\"justify-content-md-center\">\r\n\t\t\t\t<Col className=\"col-lg-4 form-login\">\r\n\t\t\t\t\t<form onSubmit={e => e.preventDefault()}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control \"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\tplaceholder=\"email\"\r\n\t\t\t\t\t\t\tonChange={onChangeUsername}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: \"required\"\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{errors.username && <p>{errors.username.message}</p>}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"passsord\"\r\n\t\t\t\t\t\t\tclassName=\"form-control mt-4 mb-4\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={onChangePassword}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: \"requred\"\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{errors.password && <p>{errors.password.message}</p>}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tonClick={handleSubmit(onSubmit)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t{successful && <p>{message}</p>}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n\r\n};\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}